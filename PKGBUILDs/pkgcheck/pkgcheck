#!/bin/bash

# Check if package rebuilds are needed.

pkgcheck() {
    local folder="$1"
    local opt="$2"
    [ -n "$opt" ] || opt="-n"

    case "$folder" in
        m-aur | m-m | m-more2 | mirrors.mirror1 | repo-testing.x86_64)
            source ~/.config/cd.conf || return 1
            source /etc/skel/cd.bash || return 1

            pushd $folder >/dev/null || return 1
            assets.make $opt
            popd >/dev/null || return 1
            ;;
        *)
            echo "Sorry, folder '$folder' is not supported." >&2
            ;;
    esac
}

pkgcheck "$@"
