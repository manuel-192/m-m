#!/bin/bash

# Maintainer: manuel (see forum.endeavouros.com)

pkgname=wallpaper-changer
pkgdesc="Change the wallpaper periodically"
url="https://github.com/manuel-192/m-m/raw/master/PKGBUILDs/$pkgname"
pkgver=24.10.4
pkgrel=1

arch=('any')
license=('GPL')
backup=(etc/$pkgname.conf)
depends=(eos-bash-shared fd)
install=wallpaper-changer-info.install

source=(
    $url/$pkgname
    $url/$pkgname.conf
    $url/$pkgname.timer
    $url/$pkgname.service
    $url/install-$pkgname
    $url/${pkgname}-info.install
)
sha512sums=('9e331783af6e696d622b9c60abffd0ba5b0ba8e411c185c08c3db9f8f582793d137bbdf5be1bf861e7235e73e32413c632e422e3730c5ce2baf9a09a510a3d96'
            '0c602430d390c5eb22db2d6eecb1223a4e540970bf8da2b6bef3a06194059031b22307698a9c2c9ead9ac53a792cba89f160a37220f3f79140a381421d01ab84'
            '64ba8f7b9dd1f10e766e280694d433232b658af5d09ec43deabdb0ce3ab1abab2fc9d309ac3022146acdbe79ebfed53843c8e9eccac972b3a090b05db8090708'
            'baef544f92e62410083a9ea4f410c949500843d306a2a7e2d61d8b4fe4414d2395c8dc6a946f5d9a98e5693dd97aa8495c13a2ec09f365bda0708d288132a3f5'
            '19462a14f80adbdb18773aa31798f39d4e9bcd7003a4c991ed54128e7712ec4bb96e49740a84131718cd3a1b47aa219b9557d2632b4b2475a3ef2c7510598433'
            '4de8a725cf2d5ede648db168cc87183821bb3afc14d8ee5bde779228fe752b9ba26f09a376a844dea5090cbe0bdf25186c92bdaa388846276e81bd43798f97c3')

package() {
    local skel=/etc/skel/$pkgname
    install -Dm755 "$pkgname"         "$pkgdir/usr/bin/$pkgname"
    install -Dm755 install-"$pkgname" "$pkgdir/usr/bin/install-$pkgname"
    install -Dm644 "$pkgname".timer   "$pkgdir/$skel/$pkgname".timer
    install -Dm644 "$pkgname".service "$pkgdir/$skel/$pkgname".service
    install -Dm644 "$pkgname".conf    "$pkgdir/etc/$pkgname".conf
}
