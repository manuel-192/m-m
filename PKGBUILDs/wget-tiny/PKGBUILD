#!/bin/bash

# Maintainer: EndeavourOS-Team <info@endeavouros.com>

pkgname=wget-tiny
pkgdesc="(Experimental) A limited relplacement for wget, implemented using curl; see 'wget --help'"
pkgver=23
pkgrel=1
arch=(any)
license=(GPL2)
url="https://github.com/manuel-192/m-m/raw/master/PKGBUILDs/$pkgname"
depends=(curl)
optdepends=(
    "eos-bash-shared: for 'curl-exit-code-to-string'"
)
provides=(wget)
conflicts=(wget)

source=(
    $url/$pkgname
    $url/${pkgname}-install.hook
)
sha512sums=('3412f01b13a996e50dd142f336f3906d31b5316bb12e3070a1ea1001b487b48d5cb5921c342880c12d22048877debac5a1695d97c6a31c8ffad58415312a7caa'
            'f3fa850412d76ca7be3473ad152a4f2f87d6668ebad080e76f52a10aebab858f49d566a75ec31d3ab789f989e25f33cc3bfbcf6ea682b3ac10921aa89c3807fd')

package() {
    local hooks=$pkgdir/usr/share/libalpm/hooks

    install -Dm755 $pkgname                    "$pkgdir/usr/local/bin/wget"
    install -Dm644 ${pkgname}-install.hook     "$hooks/${pkgname}-install.hook"
}
