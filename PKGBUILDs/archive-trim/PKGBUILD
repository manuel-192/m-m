#!/bin/bash

# Maintainer: manuel (see forum.endeavouros.com)

pkgname=archive-trim
pkgdesc="Trims (deletes old files from) a package archive"
url="https://github.com/manuel-192/m-m/raw/master/PKGBUILDs/$pkgname"
pkgver=23
pkgrel=1
arch=('any')
license=('GPL')
# depends=()

source=(
    $url/$pkgname
)
sha512sums=('cc2c8a71f29196d7ddb730d72c60c1054d962341f3340424d0d25de92fae8e493e66579936a7e95d053608f5ad105ab27d6276271a0ffe53fd65623af504fa98')

package() {
    local hookdir=$pkgdir/usr/share/libalpm/hooks
    local bindir=$pkgdir/usr/bin
    local etcdir=$pkgdir/etc
    local xx name

    for xx in "${source[@]}" ; do
        name=$(basename "$xx")
        case "$name" in
            *.hook) install -Dm644 $name   $hookdir/$name ;;
            *.conf) install -Dm644 $name   $etcdir/$name ;;
            *)      install -Dm755 $name   $bindir/$name ;;
        esac
    done
}
