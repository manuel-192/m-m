#!/bin/bash

# Maintainer: manuel (see forum.endeavouros.com)

pkgname=meld-rcs
pkgdesc="Meld with RCS support and small UI changes"
url="https://github.com/manuel-192/m-m/raw/master/PKGBUILDs/$pkgname"
pkgver=25.10.1
pkgrel=1

arch=('any')
license=('GPL')

source=(
    $url/meld               # overrides /bin/meld
    $url/meldrcs
    $url/meldgit
)
sha512sums=('77f54c1100183dde40f689ffe9e29f3a4aacc31ba61af780eaa4b285ae94ba05eebb81c278031933d5d8fd4b7612d1c670268cb53ac5abe852bfdf749cb95862'
            'f5ad833d9af2229c67e4855f2181cc1ebecdce1aaf8f808695bec9cf1394a44f6e47dfd86ee7b1f7e5fb40d7798894b9741ba5a9fe01647eea0e1180bc435c23'
            '8550f621f03be4a622273aa7ab849f6dcb2c365f072ac325f88b50299efca9382f58e1f16c478682b41877a5b5c7d005d15c131d82c96be5151ca9957d0d45c2')

package() {
    local src file

    for src in "${source[@]}" ; do
        file="${src##*/}"
        case "$file" in
            *.conf)   install -Dm644 $file    $pkgdir/etc/$file ;;
            meld)     install -Dm755 $file    $pkgdir/usr/local/bin/$file ;;
            *)        install -Dm755 $file    $pkgdir/usr/bin/$file ;;
        esac
    done
}
