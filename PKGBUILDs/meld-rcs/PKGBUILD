#!/bin/bash

# Maintainer: manuel (see forum.endeavouros.com)

pkgname=meld-rcs
pkgdesc="Meld with RCS support and small UI changes"
url="https://github.com/manuel-192/m-m/raw/master/PKGBUILDs/$pkgname"
pkgver=25.10
pkgrel=1

arch=('any')
license=('GPL')

source=(
    $url/meld               # overrides /bin/meld
    $url/meldrcs
    $url/meldgit
)
sha512sums=('1c67390f6b6c1151e3042f5e4b63e4a15d4db2c498ab470eb761beb5d9e90209dd415736cfe6366b8953c0c741a76cca302097c0206eb3e4b21e08510a33b7ad'
            'b58df8b0d2b92555dcc96175835e474d11369d4327dd62ee7e20014c09418dc333658df293062b6fcbf1c364ba7bcd2adf11e5a5f90aebd9e5454ab4f60dda74'
            '8550f621f03be4a622273aa7ab849f6dcb2c365f072ac325f88b50299efca9382f58e1f16c478682b41877a5b5c7d005d15c131d82c96be5151ca9957d0d45c2')

package() {
    local src file

    for src in "${source[@]}" ; do
        file="${src##*/}"
        case "$file" in
            *.conf)   install -Dm644 $file    $pkgdir/etc/$file ;;
            meld)     install -Dm755 $file    $pkgdir/usr/local/bin/$file ;;
            *)        install -Dm755 $file    $pkgdir/usr/bin/$file ;;
        esac
    done
}
