#!/bin/bash

# Maintainer: manuel (see forum.endeavouros.com)

pkgname=meld-rcs
pkgdesc="Meld with RCS support and small UI changes"
url="https://github.com/manuel-192/m-m/raw/master/PKGBUILDs/$pkgname"
pkgver=25
pkgrel=2

arch=('any')
license=('GPL')

source=(
    $url/meld               # overrides /bin/meld
    $url/meldrcs
    $url/meldgit
)
sha512sums=('4da32fcb87d5f15d09a7ef72a90cf6356e722df931f0cbe4b404ee95acbfee76fcdef009291d6642c39897f4eaf753756fa171b793f0e7bee376401b287f254e'
            '7392aba60c2c8cf0838fbf1b70f57caa8dede34316e71905c556d7571818d3bb5ba6c2ba1e43440188ea5d810ef1d90e601407408d6ddab89faf6554a40cc181'
            '8550f621f03be4a622273aa7ab849f6dcb2c365f072ac325f88b50299efca9382f58e1f16c478682b41877a5b5c7d005d15c131d82c96be5151ca9957d0d45c2')

package() {
    local src file

    for src in "${source[@]}" ; do
        file="${src##*/}"
        case "$file" in
            *.conf)   install -Dm644 $file    $pkgdir/etc/$file ;;
            meld)     install -Dm755 $file    $pkgdir/usr/local/bin/$file ;;
            *)        install -Dm755 $file    $pkgdir/usr/bin/$file ;;
        esac
    done
}
