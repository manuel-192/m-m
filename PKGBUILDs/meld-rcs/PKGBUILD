#!/bin/bash

# Maintainer: manuel (see forum.endeavouros.com)

pkgname=meld-rcs
pkgdesc="Meld with RCS support and small UI changes"
url="https://github.com/manuel-192/m-m/raw/master/PKGBUILDs/$pkgname"
pkgver=24.3
pkgrel=1

arch=('any')
license=('GPL')

source=(
    $url/meld               # overrides /bin/meld
    $url/meldrcs
    $url/meldgit
    $url/bash-colors.conf
)
sha512sums=('ac5c0523dee92a13d143548b0861241c25edd8cd81d2704d4f9a930babafcd8942b5571048202187ccb01ebb848c86e74d6ea0122e518b68dd2088dd00bd8868'
            'e6281dac13858639af74d14221c05919882f7e0c406c2fbea83c5e5e49540f512ba3ab943999b99420f7f1bbd2f822be49396bd69c27cf0384e5489c06ff03b3'
            '1efc1f9488199724d16745eff9f5385aeef4fd451cb1e74c86390e0671fb6e9e7ebac82d4af9a5983cda0e7236bd6a4677397dfe2cc1c16ad5d89fbc0dea7cbc'
            '9c4e9274198780bb27aa5757aac812c47c4fc65a5a54ac66b9c7a274a462ab44e339cf798e71304b6f86321c0732e16019d37e8e7c27d269e521e2282fc90609')

package() {
    local src file

    for src in "${source[@]}" ; do
        file="${src##*/}"
        case "$file" in
            *.conf)   install -Dm644 $file    $pkgdir/etc/$file ;;
            meld)     install -Dm755 $file    $pkgdir/usr/local/bin/$file ;;
            *)        install -Dm755 $file    $pkgdir/usr/bin/$file ;;
        esac
    done
}
