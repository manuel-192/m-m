#!/bin/bash
# Maintainer: manuel (see forum.endeavouros.com)

pkgname=m-reminder
pkgdesc="Simple configurable reminder of a single thing"
url="https://github.com/manuel-192/m-m/raw/master/PKGBUILDs/$pkgname"
pkgver=23
pkgrel=1.1

arch=('any')
license=('GPL')
depends=(bash)
backup=(etc/$pkgname.conf)

source=(
    $url/$pkgname
    $url/$pkgname.conf
    $url/$pkgname.timer
    $url/$pkgname.service
)
sha512sums=('b921b3084699ba511c6da798a221bfde4185f40dd292365adf96b991714a8a0829f92f41adfc8fe3ce90898087ce2e23775b68726fee4d27c350ae07983d4083'
            'e75707decd734b28789ef1ef141cf3a9462c0d4aafaef56e53f2b12dc2d9cdf96039ad6694cf5097d2e3783f784f26f7fd6e1f98b741af4eeecdbc0ad1d88afa'
            '74502c4b5a4f8139830c20dfbbf60455677a23ee66b57bd60eb062aa1c41ddc0ba92a3934df5b90d98c0f0790d1ad1c9f53e79dd99e9a7939e690eac19ff856e'
            'c2e2f591b64b620ef6e36e2d8dca32d8b90d0335669b75efe1736ca0182a8c0c65b1b34b4f76585adb1085fbf2605f5c986c7ff1bec75e3a90ed5802bc80584f')

package() {
    local src name
    for src in "${source[@]}" ; do
        name=${src##*/}
        case "$name" in
            *.conf)       install -Dm644 $name     $pkgdir/etc/$name ;;
            *.timer)      install -Dm644 $name     $pkgdir/etc/systemd/system/$name ;;
            *.service)    install -Dm644 $name     $pkgdir/etc/systemd/system/$name ;;
            *)            install -Dm755 $name     $pkgdir/usr/local/bin/$name ;;
        esac
    done
}
